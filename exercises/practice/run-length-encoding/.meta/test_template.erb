require 'minitest/autorun'
require_relative 'run_length_encoding'

class RunLengthEncodingTest < Minitest::Test
<% json["cases"].each do |cases| %>
    <% cases["cases"].each do |sub_case| %>
        def test_<%= sub_case["property"] %>_<%= underscore(sub_case["description"]) %>
            <%= skip? %>
            <%- if sub_case["property"] == "consistency" -%>
                actual = RunLengthEncoding.decode(RunLengthEncoding.encode('<%= sub_case["input"]["string"] %>'))
                expected = '<%= sub_case["expected"] %>'
                assert_equal expected, actual
            <%- else -%>
                actual = RunLengthEncoding.<%= sub_case["property"] %>('<%= sub_case["input"]["string"] %>')
                expected = '<%= sub_case["expected"] %>'
                assert_equal expected, actual
            <%- end -%>
        end
    <% end %>
<% end %>
end
