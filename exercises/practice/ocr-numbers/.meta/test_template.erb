require 'minitest/autorun'
require_relative 'ocr_numbers'

class OcrNumbersTest < Minitest::Test
<% json["cases"].each do |cases| %>
    def test_<%= underscore(cases["description"]) %>
        <%= skip? %>
        input = ['<%= cases["input"]["rows"].join("', \n'") %>'].join("\n")
        <%- if cases["expected"].is_a?(Hash) && cases["expected"].key?("error") -%>
            assert_raises(ArgumentError) do
                OcrNumbers.convert(input)
            end
        <%- else -%>
            expected = '<%= cases["expected"] %>'
            actual = OcrNumbers.convert(input)
            assert_equal expected, actual
        <%- end -%>
    end
<% end %>
end
